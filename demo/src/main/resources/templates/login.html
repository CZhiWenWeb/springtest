<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
</head>
<body>
<form action="/user/login" method="post">
    <label for="username">用户名 : </label>
    <input id="username" type="text" name="username"/>
    <br>
    <label for="password">密码 : </label>
    <input id="password" type="password" name="password"/>
    <br>
    <label>验证码</label>
    <input type="text" name="imageCode"/>
    <br>
    <img id="codeImg" style="cursor:pointer;width: 100px;height: 36px;margin: 5px 0 0 5px;border-radius: 3px;" onclick="reloadCode()">
    <br>
    <label for="remember-me">Remember Me?</label>
    <input type="checkbox" id="remember-me" name="remember-me" value="true"/>
    <br>
    <span style="color: red" th:if="${param.error}" th:text="用户名或密码错误"></span>
    <br>
    <input type="submit" value="登录">
</form>
</body>
<script>
    window.onload=function reloadCode() {
        $("#codeImg").attr("src","/captcha?data="+new Date()+"");
    }
    // window.onload=function writeForm(){
    //     var url="/selectMessageForLogin";var data={};
    //     $.post(url,data,function (t) {
    //
    //     })
    // }
    function reloadCode() {
        $("#codeImg").attr("src","/captcha?data="+new Date()+"");
    }
</script>
</html>
